# Комплексный и всесторонний анализ заметок Memo. 



## Цель анализа

Получить общую детальную характеристику по заметкам Memo, включающую детальную информацию по каждой заметке и выводы о возможностях исправления, оптимизации или развития системы Monica Memo.



## Ожидаемый результат


### Details 

Итоговый отчёт по анализу должен содержать список всех заметок с детальным описанием и комментариями, относящимся к цели анализа:
1. Тип
2. Заголовок:
3. Дата\время создания
4. Дата\время изменения
5. Теги
6. Объём в байтах (включая мультимедиа, если мультимедиа не добавлен в виде ссылки на внешний ресурс)
6. Summary по результатам анализа
7. Ранжированный список замечаний и рекомендаций с обоснованиями


### Summary

Общие результаты анализа должны включать:
* всего заметок, в т.ч.: 
  + текстовые 
      - plain text
      - markdown
      - other text
  +  с мультимедиа-содержимым
      - без видео
      - с видео
* суммарное среднее арифметическое и медиана объёма заметки
* общие рекомендации по стилю и структуре заметок
* рекомендации по классификации заметок
* рекомендации по реорганизации системы тегов
* рекомендации по реорганизации состава заметок: объединения и разделения блоков, из которых состоят заметки
* рекомендации по управлению основными процессами добавления и актуализации заметок
  + рекомендации по альтернативным сценариям в управлении заметками
  + рекомендации по учёту и обработке исключительных ситуаций
* общий план оптимизации заметок
* конкретные указания для первого шага и промпт запуска второго шага, при условии, что каждый шаг должен:
   + эффективно и последовательно приближать к достижению цели
   + если шаг не завершат процесс, то результата шага также должен содержать промпт на следующий за ним шаг, включая информацию об модели и параметрах запуска.



## Условия


### Монопольный доступ к Memo

До окончания или приостановки анализа на любое изменение или добавление заметок накладывается мораторий. Исключение будут составлять специальные заметки с тегом "delayed" или "memo inventory", причём также договоримся, чтобы эти теги не использовались для постоянного хранения, а применялись исключительно в ситуациях, когда необходимо фиксировать дельту, либо вспомогательную информацию на время моратория. Таким образом, можно будет не беспокоиться о поддержании целостности временных. 


### Ограничения

#### Технологические

Решение должно ориентироваться на доступные (на 27/01/2025) продвинутому, но обладающему какими-то особыми привилегиями пользователю

#### Вычислительные

Не ограничены ничем, кроме стандартных требований к информационной безопасности, этической  и эстетической составляющими, а также возможностями:
- Monica Ultimate with 854 advanced credits
- Оплаченный API Monica AI (10$)
- Monica Code установленный на VSCode и на JetBrains IDE stack
- Оплаченный API DeepSeek (5$)
- бесплатный API Google Gemini
- API Яндекс. Алиса (премиум подписка и API в Yandex. Cloud)
- Win11 Copilot во всевозможных вариациях (код, приложение (desktop and mobile (iPhone, android)), многочисленные плагины)
- MS Power Automate, Python, PHP and other instruments for automation
- PowerShell, DevTools, PowerToys, WSL, bash and other system shells and tools
- Различные базы данных (можно установить какую нужно) 
- Fast Personal PC (Ryzen 7 Pro 3700, 32gb 2-channel DDR-4 (with capability add 2 modules), Win11, WSL, mass of variety software) with 32mb RAM and ~4TB persistent memory on disks and clouds; 2 android devices (average performance) and iPhone 12 mini
- Fast unlimited Internet access via variates of proxies and VPNs, DWM with white IP and ~500$ on wallets
- Other possibilities, which is not conflict with security and ethic requirements 

#### Времени

В целом, не хотелось бы, чтобы данный процесс затянулся больше, чем на 2-3 час (причём почти час я уже потратит на составление этого промпта.
Всего промптов для достижения цели, я полагаю, может потребоваться 5-10, максимуму - 15.



## Дополнения

Не являются требованиями, но приведены:
- для примера (Шаги анализа, Работа с памятью)
- в качестве рекомендации 
- в качестве дополнительных задач


### Шаги анализа

Для выполнения задачи предлагается использоваться механизм шагов:
- Объявление о начале комплексного анализа заметок "Memo"
- Знакомство с промптом и выбор модели и параметров для второго шага
- Указания для второго шага, которые можно дать в виде корректировки к текущему промпту (чтобы не переписывать задание), но и упрощение не возбраняется. Главное не потерять основной посыл и важные детали.
- В целом, для первого шага уже такой результат, если он приведёт к качественному результату - уже будет существенным приближением.


### Работа с памятью

Данный промпт очевидно является вариацией алгоритма цепного промпта и следовательно требует особого отношения к использованию постоянной памятью. Это нужно учитывать каждый шаг и обязательно убеждаться в том, что главная информация для следующего шага будет доступна LLM, выполняющему этот шаг.
Кроме того, в дальнейшем, по ходу решения общей задачи, количество небольших задач, которые нужно как минимум проверять:
- поддержка надёжно эффективного процесса использования пользовательской постоянной памяти либо памяти промежуточного звена (например - Monica)
- работа с планом и задачами
- поддержка ориентации на конечную цель
- поддержка и контроль процессов:
  - правильного понимания запроса
  - корректности и эффективности ответа
  - формирования надёжных и качественных промптов для следующего шага
- оркестрация запросов между LLM
- оценка эффективности шагов использующая пользовательскую память и алгоритмы обучения с подкреплением
- оценка общего прогресса и обеспечение специальных режимов на случаи риска зацикливания или других недостаточно результативных способов поведения


### Рекомендации

#### Фиксация задач в постоянной памяти

1. Можно использовать Memo (только нужно добавить тег "memo inventory", чтобы мы могли отличить вспомогательную к процессу заметку от множества анализируемых заметок.
2. Можно использовать файлы произвольных названий и форматов - они будут добавлены в следующим промпт.
3. API DBMS. Уже есть сервер TypeDB с белым IP, но можно подключить и любую другую DBMS.
4. Любые другие способы постоянного (межсессионного) хранения информации.

#### Использование специализированных языков и форматов:

Использование наиболее эффективных для взаимодействия между моделями форматов, таких как JSON, LaTeX, Python, Lambda, и даже binary code - может значительно сократить затраты токенов на чтение, запись и обработку промптов - используй эти возможности на максимум. 

Английский язык используй только там - где это является наиболее простым и естественным способом выражения знаний. Русский - только чтобы объяснить что-то пользователю, но это достаточно сделать один раз, причём необязательно сразу. Пользователь может сам задать вопрос по непонятным ему процессам или элементам, и чтобы не перегружать запрос дополнительным языком - перевод и комментирование на русском можно делать в отдельных задачах по оформлению отчётов.

#### Оптимизация данных

1. Инкапсуляция, модульность и механизмы эффективной навигации - позволят сохранять существенные по объему блоки данных в отельных пространствах имён, и обращаться к ним только при необходимости не включая их каждый раз в следующий промпт (достаточно будет указать путь к этим данным и описание, по которому следующие исполнители LLM определят наличие или отсутствие необходимости в их использовании на данном шаге.
2. Наследование и полиморфизм также могут существенно помочь в оптимизации - с этим не должно быть сложностей
3. Эффективные процессы сжатия, агрегации, обрезки, разделения, индексации и альтернативного (эффективного) представления информации - это непростая задача, но с ней очень рекомендуется разобраться, потому как от неё очень сильно зависит эффективность использование окна токенов.

#### Навигационные указатели:

Запросы к LLM могут содержать как минимум 2 вида указателей для навигации:
1. Указатель на генерацию промпта к следующему шагу - в этом случае LLM - получивший промпт с таких указателем, после получения полезного результата, сгенерирует промпт и укажет модель и параметры для следующего шага. Такой указатель является предпочтительным за счёт своей надёжности, поскольку данный указатель можно вставлять рекурсивно до тех пор, пока вся задача не будет выполнена.
2. Указатель на конкретный ответ, который нужно только рассчитать и вернуть модели давшей создавшей задачу. Такой вариант тоже допустим. В этом случае я лично позабочусь, чтобы передать ответ модели - заказчику. Способ отличается сохранением ответственности за оркестрацию на той же модели, к тому же он существенно снижает нагрузку с исполнителя, поскольку ему не нужно будет думать над формирование промпта по цепному алгоритму и он сможет на 100% сосредоточиться на заказе, однако в этом случае помнить статус процесса над задачей нужно будет модели-заказчику. 
3. Терять ответственность за оркестрацию или неявным образом перекладывать её на пользователя - недопустимо. Если возникают сложности - можно явно попросить пользователя помочь в решении проблемы.

#### Использование вспомогательных инструментов

1. Ещё на начальных шагах (1-5) желательно ознакомиться и понять применимость различных инструментов, расширяющих возможности LLM: это и цепочки LLM, и навыки Monica, цепочки ботов, супер-промпты, помощь пользователя, использование расширенного контекста за счёт продвинутых кредитов и другие функции, перечисленные выше.
2. Отдельно стоит упомянуть подключаемые базы знаний пользователя. В них также очень много информации, которая может оказаться полезной. Кроме того, одно из дополнительных заданий включает учёт данных этих ресурсов для их объединения с заметками в единую систему знаний о персональном цифровом окружении.
3. Очень рекомендую периодически использовать Интернет для получения, проверки или обновления различных сведений, таких как: качества новой модели LLM (например, DeepSeek - обе новые модели показали неожиданно высокие результаты). Также Интернет пригодится для проверки корректности или полноты информации в заметках.
4. Сами заметки - это не только материал, который нужно упорядочить - это ещё и материал, который содержит много интересных ссылок, шаблонов, примеров, сравнений и другой информации, которая может пригодиться непосредственно для повышения скорости или качества анализа.
5. Ты всегда можешь изменить план, состав задач или приостановить процесс до выяснения каких-то вопросов. Главное при этом указать пользователю, какие конкретно действия ему нужно совершить чтобы:
- приостановить работу над задачей
- подготовиться к продолжению работы над задачей
- продолжить работу задачей после подготовки

#### Не спешить с выводами

Порядок действий скорее всего будет иметь немалое значение, поэтому первые задачи и шаги стоит ориентировать на постепенный последовательный сбор и оптимизацию информацию для общей задачи, включая просмотр и сортировку всех заметок Memo, сбор полезных данных в интернете, проверка и оценка возможностей (в отношении текущей задачи) интеграций и контекста, уточнение недостающей информации у пользователя и даже, если нужно - экспериментальные запуски других моделей.

Решения по реорганизации стоит предлагать только после сбора и анализа и оптимизации знаний о заметках Memo, лучшего понимания задачи и доступного окружения и возможностей.


### Дополнительные задачи

#### Runtime-informing

Будет здорово, если в процессе анализа после каждого шага, ты будешь отображать не только прогресс и данные для второго шага, но ещё и добавишь какую-нибдуь интересную промежуточную информацию для пользователя (то есть меня). 
Например, можешь указывать количество токенов, используемые режимы, значимые параметры и переменные. 
Выводить описание этих значение достаточно только при первом применении, после чего я постараюсь их запомнить или запишу, а ты можешь меня как-нибудь проверить.

#### LLM stack

Будет очень хорошо, если в процессе анализа будут задействованы все основные LLM, доступные через Monica AI Unlimited, а также наиболее подходящие и также предоставляемые через Monica AI: навыки, боты, power-ups/mini-app и промпты.

#### The Battle of the Bots

Дополнительно, было бы очень хорошо, чтобы в процессе анализа была задействована функция Monica AI "Сравнить модели", который я называю "Битвой ботов", причём так, чтобы каждой модели давалась своя определённая роль и желательно пространство для манёвров и креатива. Примеры ты найдёшь в заметках - причём довольно недавних.

#### Объединение БЗ

Исторически сложилось так, что часть промптов и полезных данных оказалась в заметках Memo, а другая почти такая же по размеру часть - в проекте VSCode на диске устройства (вот этого моего ПК, на котором сейчас пишется этот промпт). Частично я перенёс наиболее интересные материалы в подключаемые БЗ (в основном это "current", в "Мета" мало данных, а в "Книга" - клонированные Chat AI Awesome Prompts с GitHub), частично же, в основном это касается более поздних наработок - они так и остались лишь на дисках. И если ты сможешь - будет здорово, если мы доберёмся и до них. 

#### Использование многообразия методов

1. Использовать разные доступные модели, особенно интересны две новые модели DeepSeek. Ещё лучше, если кроме DeepSeek, в процессе анализа будут задействованы модели ChatGPT-o1, o1-mini, обе модели Jemini, Grok, Steiner и лучшие (для данной ситуации) Monica Bots. Liama, Nematron, Qwen и Cloude наименее интересны, но если им найдётся удачное применение (хотя бы раз) - это зачтётся, как плюс. В этом задании как раз пригодятся.
2. Использование разных навыков на разных этапах, разных лимитов для кредитов, разных подключаемых БД, дополнительных API и инструментов также будет плюсом. Главное, чтобы их подключение не было дорогим или сложном, либо их дороговизна и сложность были оправданными.

#### Использование экспериментальных моделей и технологий

Будет великолепно, если получится достать актуальную инфомрацию об экспериментальных моделяях и функциях к которым отностся (и при этом они свобоодно доступны):
- Экспериментальные функции Monica Code [смотреть на GitHub](https://github.com/Monica-IM/Monica-Code/blob/main/Reference/config.md)
- Экспериментальные модели Gemini (уже есть API Key)
- Экспериментальные модели DeepSeek (также есть API Key)
- Любые другие экспериментальный функции

#### Оптимизация процесса

Будет хорошо, если в процессе анализа отдельное внимание будет уделяться проверке качества промптов и подготовки данных, как пользователем, так и LLM с предыдущих шагов. Тут важен не формат, а сам факт проведения такого анализа и проявления инициативы по улучшению. Впрочем, это практически стандартное упоминание для практически любых исследовательских задач (как мне кажется), так что может его даже стоит перенести в system prompt, но это не точно, а лишь вариант и замечательное если ты сможешь проработать и его, предложив мне лучший System Prompt.

#### Обновление знаний о пользователе (мне) и его персональном цифровом окружении

Заметки Memo и проект Knowledgebase занимают особое место в персональных активах, претендуя на материалы, составляющие персональную базу знаний пользователя. Их изучение и сортировка, если подойти к задаче достаточно внимательно - смогут рассказать о пользователей больше, чем любые "предпочтения". Если сможешь - попробуй включить и эту задачу в пул. Тогда по её завершению мы станем намного ближе к завершению проекта и запуску полноценной БЗ пользователя.

#### Дополнительные задачи, рождённые runtime

##### Промежуточные задачи, возникшие в процессе анализа

По мере анализа, ты наверняка будешь ощущать потребность в дополнительных задачах, таких, например, как формирование новой эффективной системы машинной навигации, системы тегов, формирование системного промпта, дополнительные промпты или установки и подключение какого-либо ПО или сервиса  - не стесняйся создавать такие задачи.

##### Дополнительные цели от ИИ или пользователя возникшие в процессе анализа

Кроме того, даже если в задаче нет необходимости, но её реализация увеличит порядок или качество БЗ при том, что не отнимет много дополнительных ресурсов - то такая задача достойна стать дополнительной задачей от ИИ. Я также буду добавлять дополнительные runtime задачи, если увижу для этого удачную возможность.


### Итого, по шагу 1:

Сверка по ожиданиям шага 1:
1. Объявление начала анализа заметок Memo.
2. Разбор промпта:
- оптимизация рабочих данных
- классификация, приоритезация и фиксация значимой информации
3. Определение следующего шага
- определение подзадач (выполняемых за один подход) к следующему шагу
- указания пользователю на действия, которые ему (т.е. мне) необходимо выполнить перед запуском следующего шага
- выбор модели (или моделей)
- определение параметров запуска
- итоговая реорганизация информации по задаче, направленная на реализацию надёжного сохранение значимых данных к последующим шагам
3. Подготовка и проверка промпта для следующего шага, например:
- самостоятельная проверка: пытаешь провести эксперимент и попробовать понять свой промпт, поставив себя на место следующей модели
- включение проверки в следующий шаг: задача проверить понимание ставится следующему промпту с условием в случае провала проверки - вернуть задачу на доработку
- проверка с помощью пользователя: в промпте на следующий шаг даётся указание пользователю проверить понимание промпта и в случае провала - вернуться к уточнению и доработке
- проверка с помощью дополнительного шага: добавляется дополнительный внеплановый шаг или серия шагов, направленных на устранение недопонимания или других проблем.
- Оценка возможностей по реализации дополнительных задач и в зависимости от оценки - определение и внедрение соответствующих данных в постоянную память или промпт к следующему шагу.